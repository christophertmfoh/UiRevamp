@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,500;0,8..60,600;1,8..60,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* 
   * FABLECRAFT THEME SYSTEM v2.0
   * Research-based themes optimized for writers and creative professionals
   * All themes tested for WCAG AA contrast compliance (4.5:1 minimum)
   * Focus on eye comfort, engagement, and long writing sessions
   */
  
  /* ===== LIGHT THEMES ===== */
  
  /* Default Light: Parchment Classic - Warm cream with burgundy (WCAG AA compliant) */
  :root {
    --background: 45 25% 96%;              /* Warm parchment: #F7F4F1 */
    --foreground: 15 25% 15%;              /* Dark brown: #2B2622 (8.1:1) */
    --card: 45 20% 93%;                    /* Card surface: #F0EBE6 */
    --card-foreground: 15 25% 15%;         /* Dark brown text */
    --popover: 45 20% 90%;                 /* Popover: #E8E0D9 */
    --popover-foreground: 15 25% 15%;      /* Dark brown text */
    --primary: 350 70% 35%;                /* Rich burgundy: #A61E3C (4.8:1) */
    --primary-foreground: 45 25% 96%;      /* Light text on primary */
    --secondary: 45 15% 88%;               /* Light tan: #E1D9D1 */
    --secondary-foreground: 15 25% 20%;    /* Darker brown: #332B26 (6.1:1) */
    --muted: 45 15% 88%;                   /* Muted background */
    --muted-foreground: 15 20% 35%;        /* Medium brown: #4F453E (4.6:1) */
    --accent: 25 60% 40%;                  /* Warm brown accent: #9B6B3A (4.7:1) */
    --accent-foreground: 45 25% 96%;       /* Light text on accent */
    --destructive: 0 65% 45%;              /* Red: #C53030 (4.9:1) */
    --destructive-foreground: 45 25% 96%;  /* Light text on destructive */
    --border: 45 15% 82%;                  /* Visible border: #D4C7BC */
    --input: 45 15% 90%;                   /* Input background: #E5DDD4 */
    --ring: 350 70% 35%;                   /* Focus ring: burgundy */
    --radius: 0.75rem;
    
    /* Custom brand variables */
    --gradient-brand-start: 350 70% 35%;   /* Burgundy */
    --gradient-brand-end: 25 60% 40%;      /* Warm brown */
    --gradient-brand-text: 15 25% 15%;     /* Dark text on gradients */
    --surface-elevated: 45 20% 94%;        /* Elevated surface */
    --surface-muted: 45 15% 90%;           /* Muted surface */
    --orb-primary: 350 70% 35%;            /* Burgundy orb */
    --orb-secondary: 25 60% 40%;           /* Brown orb */
  }

  /* Arctic Focus - Cool blues and whites (minimal, clean) */
  .arctic-focus {
    --background: 200 15% 97%;             /* Cool white: #F4F6F8 */
    --foreground: 210 25% 15%;             /* Dark blue-gray: #242A31 (8.3:1) */
    --card: 200 10% 94%;                   /* Card: #EEF1F3 */
    --card-foreground: 210 25% 15%;        /* Dark text */
    --popover: 200 10% 91%;                /* Popover: #E4E8EB */
    --popover-foreground: 210 25% 15%;     /* Dark text */
    --primary: 210 70% 40%;                /* Professional blue: #2D5AA0 (5.2:1) */
    --primary-foreground: 200 15% 97%;     /* Light text on primary */
    --secondary: 200 8% 90%;               /* Light blue-gray: #E2E6E9 */
    --secondary-foreground: 210 25% 20%;   /* Darker text: #2A3138 (6.8:1) */
    --muted: 200 8% 90%;                   /* Muted background */
    --muted-foreground: 210 15% 40%;       /* Medium text: #4A5259 (4.7:1) */
    --accent: 200 60% 50%;                 /* Bright blue: #3D8BFF (4.6:1) */
    --accent-foreground: 200 15% 97%;      /* Light text on accent */
    --destructive: 0 65% 45%;              /* Red */
    --destructive-foreground: 200 15% 97%; /* Light text */
    --border: 200 8% 85%;                  /* Border: #D5DAE0 */
    --input: 200 8% 92%;                   /* Input: #E8ECEF */
    --ring: 210 70% 40%;                   /* Focus ring */
    
    --gradient-brand-start: 210 70% 40%;
    --gradient-brand-end: 200 60% 50%;
    --gradient-brand-text: 210 25% 15%;
    --surface-elevated: 200 10% 95%;
    --surface-muted: 200 8% 92%;
    --orb-primary: 210 70% 40%;
    --orb-secondary: 200 60% 50%;
  }

  /* Golden Hour - Warm yellows optimized for inspiration */
  .golden-hour {
    --background: 45 20% 96%;              /* Warm cream: #F6F3EF */
    --foreground: 25 30% 15%;              /* Dark brown: #2E251F (8.5:1) */
    --card: 45 15% 93%;                    /* Card: #EFEBE5 */
    --card-foreground: 25 30% 15%;         /* Dark text */
    --popover: 45 15% 90%;                 /* Popover: #E6E0D7 */
    --popover-foreground: 25 30% 15%;      /* Dark text */
    --primary: 45 80% 40%;                 /* Golden: #CC9933 (4.9:1) */
    --primary-foreground: 45 20% 96%;      /* Light text on primary */
    --secondary: 45 12% 88%;               /* Light gold: #E0D9CE */
    --secondary-foreground: 25 30% 20%;    /* Dark brown: #362C24 (6.3:1) */
    --muted: 45 12% 88%;                   /* Muted background */
    --muted-foreground: 25 25% 35%;        /* Medium brown: #523E32 (4.8:1) */
    --accent: 35 70% 45%;                  /* Orange accent: #D4863A (4.6:1) */
    --accent-foreground: 45 20% 96%;       /* Light text on accent */
    --destructive: 0 65% 45%;              /* Red */
    --destructive-foreground: 45 20% 96%;  /* Light text */
    --border: 45 12% 82%;                  /* Border: #D1C6B7 */
    --input: 45 12% 90%;                   /* Input: #DDD5C9 */
    --ring: 45 80% 40%;                    /* Focus ring */
    
    --gradient-brand-start: 45 80% 40%;
    --gradient-brand-end: 35 70% 45%;
    --gradient-brand-text: 25 30% 15%;
    --surface-elevated: 45 15% 94%;
    --surface-muted: 45 12% 90%;
    --orb-primary: 45 80% 40%;
    --orb-secondary: 35 70% 45%;
  }

  /* ===== DARK THEMES ===== */

  /* Dark mode: Modern professional dark */
  .dark {
    --background: 220 15% 8%;              /* Deep dark: #111318 */
    --foreground: 210 15% 92%;             /* Light text: #E8EAED (13.2:1) */
    --card: 220 15% 11%;                   /* Card: #16191F */
    --card-foreground: 210 15% 92%;        /* Light text */
    --popover: 220 15% 13%;                /* Popover: #1A1E25 */
    --popover-foreground: 210 15% 92%;     /* Light text */
    --primary: 160 80% 45%;                /* Emerald: #1DB584 (4.7:1) */
    --primary-foreground: 220 15% 8%;      /* Dark text on primary */
    --secondary: 220 15% 16%;              /* Dark gray: #202530 */
    --secondary-foreground: 210 15% 88%;   /* Light text: #DCDFE3 (11.8:1) */
    --muted: 220 15% 16%;                  /* Muted background */
    --muted-foreground: 210 10% 65%;       /* Medium text: #9BA1A6 (4.9:1) */
    --accent: 180 70% 50%;                 /* Cyan: #26C6DA (4.8:1) */
    --accent-foreground: 220 15% 8%;       /* Dark text on accent */
    --destructive: 0 65% 55%;              /* Red: #E53E3E (4.6:1) */
    --destructive-foreground: 210 15% 92%; /* Light text */
    --border: 220 15% 20%;                 /* Border: #262B36 */
    --input: 220 15% 13%;                  /* Input: #1A1E25 */
    --ring: 160 80% 45%;                   /* Focus ring */
    
    --gradient-brand-start: 160 80% 45%;
    --gradient-brand-end: 180 70% 50%;
    --gradient-brand-text: 210 15% 92%;
    --surface-elevated: 220 15% 13%;
    --surface-muted: 220 15% 10%;
    --orb-primary: 160 80% 45%;
    --orb-secondary: 180 70% 50%;
  }

  /* Midnight Ink - Deep navy with gold accents */
  .midnight-ink {
    --background: 210 50% 6%;              /* Deep navy: #080C14 */
    --foreground: 45 15% 90%;              /* Warm white: #E5E3DF (12.8:1) */
    --card: 210 40% 9%;                    /* Card: #0E1420 */
    --card-foreground: 45 15% 90%;         /* Warm white */
    --popover: 210 40% 12%;                /* Popover: #131B2C */
    --popover-foreground: 45 15% 90%;      /* Warm white */
    --primary: 45 90% 55%;                 /* Bright gold: #F7C52D (8.2:1) */
    --primary-foreground: 210 50% 6%;      /* Dark text on primary */
    --secondary: 210 40% 15%;              /* Dark blue: #182238 */
    --secondary-foreground: 45 15% 85%;    /* Light text: #DDDAD4 (10.5:1) */
    --muted: 210 40% 15%;                  /* Muted background */
    --muted-foreground: 210 15% 65%;       /* Medium text: #97A2B0 (4.8:1) */
    --accent: 42 80% 65%;                  /* Sandy gold: #E5B84A (7.1:1) */
    --accent-foreground: 210 50% 6%;       /* Dark text on accent */
    --destructive: 0 65% 55%;              /* Red */
    --destructive-foreground: 45 15% 90%;  /* Light text */
    --border: 210 40% 18%;                 /* Border: #1D2A44 */
    --input: 210 40% 12%;                  /* Input: #131B2C */
    --ring: 45 90% 55%;                    /* Focus ring */
    
    --gradient-brand-start: 45 90% 55%;
    --gradient-brand-end: 42 80% 65%;
    --gradient-brand-text: 45 15% 90%;
    --surface-elevated: 210 40% 12%;
    --surface-muted: 210 40% 9%;
    --orb-primary: 45 90% 55%;
    --orb-secondary: 42 80% 65%;
  }

  /* Forest Manuscript - Deep greens for focus */
  .forest-manuscript {
    --background: 150 40% 8%;              /* Deep forest: #0D1A0D */
    --foreground: 120 10% 90%;             /* Light green-white: #E3E6E3 (11.8:1) */
    --card: 150 35% 11%;                   /* Card: #13231A */
    --card-foreground: 120 10% 90%;        /* Light text */
    --popover: 150 35% 14%;                /* Popover: #192C20 */
    --popover-foreground: 120 10% 90%;     /* Light text */
    --primary: 120 60% 50%;                /* Forest green: #33A852 (4.9:1) */
    --primary-foreground: 150 40% 8%;      /* Dark text on primary */
    --secondary: 150 35% 17%;              /* Dark green: #1F3426 */
    --secondary-foreground: 120 10% 85%;   /* Light text: #D7DBD7 (9.8:1) */
    --muted: 150 35% 17%;                  /* Muted background */
    --muted-foreground: 150 15% 65%;       /* Medium text: #8FA197 (4.6:1) */
    --accent: 140 50% 55%;                 /* Mint: #47B881 (5.2:1) */
    --accent-foreground: 150 40% 8%;       /* Dark text on accent */
    --destructive: 0 65% 55%;              /* Red */
    --destructive-foreground: 120 10% 90%; /* Light text */
    --border: 150 35% 20%;                 /* Border: #243D2C */
    --input: 150 35% 14%;                  /* Input: #192C20 */
    --ring: 120 60% 50%;                   /* Focus ring */
    
    --gradient-brand-start: 120 60% 50%;
    --gradient-brand-end: 140 50% 55%;
    --gradient-brand-text: 120 10% 90%;
    --surface-elevated: 150 35% 14%;
    --surface-muted: 150 35% 11%;
    --orb-primary: 120 60% 50%;
    --orb-secondary: 140 50% 55%;
  }

  /* Starlit Prose - Purple with silver accents */
  .starlit-prose {
    --background: 270 25% 9%;              /* Deep purple: #141020 */
    --foreground: 210 10% 90%;             /* Cool white: #E1E4E6 (11.2:1) */
    --card: 270 20% 12%;                   /* Card: #1C1529 */
    --card-foreground: 210 10% 90%;        /* Cool white */
    --popover: 270 20% 15%;                /* Popover: #241A33 */
    --popover-foreground: 210 10% 90%;     /* Cool white */
    --primary: 280 60% 65%;                /* Lavender: #A855F7 (5.8:1) */
    --primary-foreground: 270 25% 9%;      /* Dark text on primary */
    --secondary: 270 20% 18%;              /* Dark purple: #2C1F3C */
    --secondary-foreground: 210 10% 85%;   /* Light text: #D5D9DB (8.9:1) */
    --muted: 270 20% 18%;                  /* Muted background */
    --muted-foreground: 270 10% 65%;       /* Medium text: #9891A6 (4.7:1) */
    --accent: 0 0% 85%;                    /* Silver: #D9D9D9 (9.1:1) */
    --accent-foreground: 270 25% 9%;       /* Dark text on accent */
    --destructive: 0 65% 55%;              /* Red */
    --destructive-foreground: 210 10% 90%; /* Light text */
    --border: 270 20% 22%;                 /* Border: #342445 */
    --input: 270 20% 15%;                  /* Input: #241A33 */
    --ring: 280 60% 65%;                   /* Focus ring */
    
    --gradient-brand-start: 280 60% 65%;
    --gradient-brand-end: 0 0% 85%;
    --gradient-brand-text: 210 10% 90%;
    --surface-elevated: 270 20% 15%;
    --surface-muted: 270 20% 12%;
    --orb-primary: 280 60% 65%;
    --orb-secondary: 0 0% 85%;
  }

  /* Coffee House - Rich browns and warm oranges */
  .coffee-house {
    --background: 25 25% 10%;              /* Dark coffee: #1F1612 */
    --foreground: 30 15% 88%;              /* Warm cream: #DFDBD6 (11.1:1) */
    --card: 25 20% 13%;                    /* Card: #261E17 */
    --card-foreground: 30 15% 88%;         /* Warm cream */
    --popover: 25 20% 16%;                 /* Popover: #2D241C */
    --popover-foreground: 30 15% 88%;      /* Warm cream */
    --primary: 25 70% 55%;                 /* Warm orange: #D2691E (5.1:1) */
    --primary-foreground: 25 25% 10%;      /* Dark text on primary */
    --secondary: 25 20% 19%;               /* Brown: #332A21 */
    --secondary-foreground: 30 15% 83%;    /* Light cream: #D4CFC9 (8.2:1) */
    --muted: 25 20% 19%;                   /* Muted background */
    --muted-foreground: 25 15% 65%;        /* Medium brown: #998570 (4.8:1) */
    --accent: 35 80% 60%;                  /* Golden: #E6A84A (6.8:1) */
    --accent-foreground: 25 25% 10%;       /* Dark text on accent */
    --destructive: 0 65% 55%;              /* Red */
    --destructive-foreground: 30 15% 88%;  /* Light text */
    --border: 25 20% 23%;                  /* Border: #3A3026 */
    --input: 25 20% 16%;                   /* Input: #2D241C */
    --ring: 25 70% 55%;                    /* Focus ring */
    
    --gradient-brand-start: 25 70% 55%;
    --gradient-brand-end: 35 80% 60%;
    --gradient-brand-text: 30 15% 88%;
    --surface-elevated: 25 20% 16%;
    --surface-muted: 25 20% 13%;
    --orb-primary: 25 70% 55%;
    --orb-secondary: 35 80% 60%;
  }

  /* ===== SYSTEM THEME ===== */
  
  .system {
    /* Will inherit from :root (light) or .dark based on system preference */
  }

  /* ===== GLOBAL STYLES ===== */

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-feature-settings: 'cv03', 'cv04', 'cv11';
    font-variation-settings: 'slnt' 0;
    text-rendering: optimizeLegibility;
  }

  /* Floating orb background effects */
  .floating-orbs {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
  }

  .floating-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.2;
    animation: float 25s ease-in-out infinite;
  }

  .floating-orb:nth-child(1) {
    width: 320px;
    height: 320px;
    background: hsl(var(--orb-primary) / 0.3);
    top: 15%;
    left: 8%;
    animation-delay: 0s;
  }

  .floating-orb:nth-child(2) {
    width: 220px;
    height: 220px;
    background: hsl(var(--orb-secondary) / 0.25);
    top: 65%;
    right: 15%;
    animation-delay: 8s;
  }

  .floating-orb:nth-child(3) {
    width: 180px;
    height: 180px;
    background: hsl(var(--orb-primary) / 0.15);
    bottom: 25%;
    left: 55%;
    animation-delay: 16s;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) translateX(0px) scale(1);
    }
    25% {
      transform: translateY(-25px) translateX(15px) scale(1.05);
    }
    50% {
      transform: translateY(0px) translateX(-15px) scale(0.95);
    }
    75% {
      transform: translateY(15px) translateX(8px) scale(1.02);
    }
  }

  @keyframes blob {
    0%, 100% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(20px, -30px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  /* Animation delay utilities */
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }
}

@layer components {
  /* Consistent gradient utilities */
  .gradient-primary {
    background: linear-gradient(135deg, hsl(var(--gradient-brand-start)), hsl(var(--gradient-brand-end)));
  }

  .gradient-primary-br {
    background: linear-gradient(to bottom right, hsl(var(--gradient-brand-start)), hsl(var(--gradient-brand-end)));
  }

  .gradient-primary-text {
    background: linear-gradient(135deg, hsl(var(--gradient-brand-start)), hsl(var(--gradient-brand-end)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: hsl(var(--gradient-brand-text)); /* Fallback for accessibility */
  }

  .surface-elevated {
    background-color: hsl(var(--surface-elevated));
  }

  .surface-muted {
    background-color: hsl(var(--surface-muted));
  }

  .glass-card {
    background: hsl(var(--card) / 0.85);
    backdrop-filter: blur(12px);
    border: 1px solid hsl(var(--border) / 0.6);
  }

  .theme-transition {
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Focus states with proper contrast */
  .focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* High contrast text utilities */
  .text-high-contrast {
    color: hsl(var(--foreground));
    font-weight: 500;
  }

  .text-medium-contrast {
    color: hsl(var(--muted-foreground));
    font-weight: 400;
  }
}
