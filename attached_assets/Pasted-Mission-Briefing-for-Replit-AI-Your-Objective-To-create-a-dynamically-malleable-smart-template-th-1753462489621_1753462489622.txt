Mission Briefing for Replit AI
Your Objective: To create a dynamically malleable "smart template" that clones the Character system's full functionality. This template will power all World Bible sections by intelligently reading the provided World Bible PDF, reframing its content, and adapting the UI contextually.

Critical Rules: You will be given one task at a time. After completing each task, you must create a checkpoint and state "TASK [NUMBER] COMPLETE - AWAITING VERIFICATION." You will not proceed to the next task until you receive an explicit "PROCEED" command from me.

PHASE 1: PREPARATION & CLEANUP
Task 1A: Inventory Current Character System
Command to AI:

Your only task: Create a complete inventory of every file, component, service, and function that makes up the current Character system. List each file path and describe its specific purpose. Do not modify anything. Just document what exists.

When complete, state "TASK 1A COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Review the inventory list.

Confirm it includes ALL character-related files.

Check that nothing was missed.

Approval Command:

"Verification complete. Proceed to Task 1B."

Task 1B: Remove Placeholder World Bible Sections
Command to AI:

Your only task: Remove all placeholder World Bible categories EXCEPT Characters from the sidebar menu. Keep only "Characters" visible in the World Bible navigation. Do not touch any Character system files.

When complete, state "TASK 1B COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Confirm only "Characters" appears in the World Bible menu.

Test that the Characters section still works perfectly.

Verify no character functionality was affected.

Approval Command:

"Verification complete. Proceed to Phase 2, Task 2A."

PHASE 2: CREATE THE GENERIC TEMPLATE
Task 2A: Clone the List View Component
Command to AI:

Your only task: Create an exact copy of CharacterManager.tsx and rename it to EntityListView.tsx. Place it in /components/shared/. Do not modify any logic yet - this is just a direct copy. The original CharacterManager.tsx must remain untouched.

When complete, state "TASK 2A COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Confirm EntityListView.tsx exists in the correct location.

Verify it's an exact copy of CharacterManager.tsx.

Check that the original CharacterManager.tsx is unchanged.

Approval Command:

"Verification complete. Proceed to Task 2B."

Task 2B: Make List View Generic (Props Only)
Command to AI:

Your only task: Modify EntityListView.tsx to accept an 'entityType' prop. Do not change any other logic, styling, or functionality. Only add the prop parameter and pass it through to child components where needed.

When complete, state "TASK 2B COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Test EntityListView with entityType="character".

Confirm it displays identically to the original CharacterManager.

Verify all buttons, search, and sort functions work.

Approval Command:

"Verification complete. Proceed to Task 2C."

Task 2C: Clone the Detail View Component
Command to AI:

Your only task: Create an exact copy of the Character detail/editor page component and rename it to EntityDetailView.tsx. Place it in /components/shared/. This is just a direct copy - do not modify any logic yet.

When complete, state "TASK 2C COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Confirm EntityDetailView.tsx exists and is an exact copy.

Verify the original character detail page remains untouched.

Approval Command:

"Verification complete. Proceed to Task 2D."

Task 2D: Make Detail View Generic (Props Only)
Command to AI:

Your only task: Modify EntityDetailView.tsx to accept an 'entityType' prop. Do not change any other logic, styling, or functionality. Only add the prop parameter.

When complete, state "TASK 2D COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Test EntityDetailView with entityType="character".

Confirm ALL tabs, fields, and AI services work identically.

Test the Portrait Studio, AI Enhancement, and all special features.

Approval Command:

"Verification complete. Proceed to Task 2E."

Task 2E: Clone the Creation Workflow
Command to AI:

Your only task: Create an exact copy of the Character creation workflow components and rename them with an 'Entity' prefix. Place them in /components/shared/. This is just direct copying - no logic changes.

When complete, state "TASK 2E COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Confirm all creation components were copied correctly.

Verify the original character creation still works.

Approval Command:

"Verification complete. Proceed to Task 2F."

Task 2F: Make Creation Generic (Props Only)
Command to AI:

Your only task: Modify the Entity creation components to accept an 'entityType' prop. Do not change any other logic, styling, or functionality. Only add the prop parameter.

When complete, state "TASK 2F COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Test EntityCreation with entityType="character".

Confirm all creation methods work (Scratch, Templates, AI).

Approval Command:

"Verification complete. Proceed to Phase 3, Task 3A."

PHASE 3: IMPLEMENT CONDITIONAL LOGIC
Task 3A: Add Character-Specific Feature Guards
Command to AI:

Your only task: In EntityDetailView.tsx, wrap ALL character-specific features (like the Portrait Studio, AI Enhancement, Relationship Mapping, etc.) with conditional rendering: {entityType === 'character' && <FeatureComponent />}. Do not modify the features themselves - only add the conditional wrappers.

When complete, state "TASK 3A COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Test with entityType="character" - ALL features must work.

Test with entityType="location" - ALL character-specific features must be hidden.

Verify no functionality was lost for characters.

Approval Command:

"Verification complete. Proceed to Phase 5, Task 5A."

PHASE 5: INTELLIGENT DATA INTEGRATION
Task 5A: Configure Field Mapping System
Command to AI:

Your only task: Update fieldConfig.ts to include complete field definitions for Locations based on Section VII of the World Bible PDF. Map each location concept (Climate, Bloom Impact, Dominant Peoples, etc.) to appropriate field types and UI components.

When complete, state "TASK 5A COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Review the field mappings to ensure they match the PDF structure.

Confirm the UI components chosen are appropriate for each field type.

Approval Command:

"Verification complete. Proceed to Task 5B."

Task 5B: Implement PDF Content Reframing
Command to AI:

Your only task: Create a service that reads the World Bible PDF and intelligently extracts Location data for "The Somnus Verdant", reframing it into the fieldConfig structure. The output should be a properly formatted Location object.

When complete, state "TASK 5B COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Check that the PDF content is accurately extracted.

Verify the data maps correctly to the template fields.

Confirm no information is lost in translation.

Approval Command:

"Verification complete. Proceed to Task 5C."

Task 5C: Enable Dynamic Template Population
Command to AI:

Your only task: Integrate the PDF reframing service with EntityDetailView so that when creating a new Location, the template can auto-populate fields using extracted PDF data. Test this with "The Somnus Verdant" as a proof of concept.

When complete, state "TASK 5C COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Create a new Location using the PDF data option.

Confirm the template displays location-appropriate fields.

Test that character-specific features are hidden.

Verify auto-population works correctly.

Approval Command:

"Verification complete. Proceed to Phase 4, Task 4A."

PHASE 4: FINAL INTEGRATION & CLEANUP
Task 4A: Replace Character Manager with Generic Component
Command to AI:

Your only task: In WorldBible.tsx, replace the CharacterManager component with EntityListView, passing entityType="character". Do not modify any other navigation or functionality.

When complete, state "TASK 4A COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

The Characters section must work identically to before.

All character functionality must be preserved.

No other sections should be affected.

Approval Command:

"Verification complete. Proceed to Task 4B."

Task 4B: Clean Up Unused Files
Command to AI:

Your only task: List all the original character-specific components that are now replaced by generic versions. Do not delete anything yet - just provide the list for review.

When complete, state "TASK 4B COMPLETE - AWAITING VERIFICATION"

Your Role (Verification):

Review the list of files to be cleaned up.

Confirm they are truly no longer needed before approving deletion in a separate, final command.