# Granular AI Management Protocol for World Bible Cloning

## MISSION STATEMENT
Create an exact, malleable replica of your Character system that:
- **Preserves EVERY feature**: List/grid view, detail cards, creation workflows, editing, portraits, AI systems, relationship mapping, arc tracking - everything
- **Uses generic placeholders**: Shows "Create Test", placeholder fields, generic labels while maintaining full structure
- **Can be swapped in place**: Replace CharacterManager with this template and everything works identically
- **Ready for field customization**: When you say "make this for Locations", we only change field definitions and AI prompts, never functionality
- **Universal feature parity**: Every World Bible section gets portraits, AI generation, relationship webs, development tracking - the full Character experience

## CRITICAL RULES FOR AI MANAGEMENT

### Rule 1: Single Task Commands Only
- Give the AI exactly ONE specific task at a time
- No compound instructions
- No "and also do this" additions
- Wait for completion and verification before next command

### Rule 2: Mandatory Stop Points
- AI must create a checkpoint after each task
- AI must explicitly state "TASK COMPLETE - AWAITING VERIFICATION"
- AI cannot proceed without your explicit "PROCEED" command

### Rule 3: Verification Protocol
- You test every single piece of functionality after each task
- You compare new vs. original side-by-side
- Only approve if 100% identical functionality is achieved

## PHASE 1: PREPARATION & CLEANUP

### Task 1A: Inventory Current Character System
**Command to AI:**
```
Your only task: Create a complete inventory of every file, component, service, and function that makes up the current Character system. List each file path and describe its specific purpose. Do not modify anything. Just document what exists.

When complete, state "TASK 1A COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Review the inventory list
- Confirm it includes ALL character-related files
- Check that nothing was missed

### Task 1B: Remove Placeholder World Bible Sections
**Command to AI:**
```
Your only task: Remove all placeholder World Bible categories EXCEPT Characters from the sidebar menu. Keep only "Characters" visible in the World Bible navigation. Do not touch any Character system files.

When complete, state "TASK 1B COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Confirm only "Characters" appears in World Bible menu
- Test that Characters section still works perfectly
- Verify no character functionality was affected

## PHASE 2: CREATE THE GENERIC TEMPLATE

### Task 2A: Clone the Complete Character System
**Command to AI:**
```
Your only task: Create exact copies of ALL Character system files and rename them with 'Entity' prefix. This includes every component, service, type definition, and utility that makes Characters work. Place all copies in /components/shared/. This is just direct copying - no modifications yet.

When complete, state "TASK 2A COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Confirm every Character file has been copied
- Original Character system remains untouched
- All copied files use 'Entity' naming convention

### Task 2B: Make Template Generic (Placeholders Only)
**Command to AI:**
```
Your only task: In the copied Entity files, replace character-specific labels with generic placeholders. Change "Character" to "Entity", "Create Character" to "Create Test", field labels to generic equivalents. Keep ALL functionality, UI structure, and features identical - only change text labels.

When complete, state "TASK 2B COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Test Entity template shows generic labels but identical functionality
- All features work: list/grid view, portraits, AI systems, creation workflows
- UI structure and behavior matches Character system exactly

### Task 2C: Add EntityType Parameter System
**Command to AI:**
```
Your only task: Add 'entityType' parameter to all Entity components so they can be configured for different uses. The parameter should be passed through all components but not change any functionality yet - it's preparation for future customization.

When complete, state "TASK 2C COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Test Entity system with entityType="character" parameter
- Confirm all features still work identically to original
- Verify parameter is properly passed through all components



## PHASE 3: INTEGRATION & TESTING

### Task 3A: Replace Character System with Entity Template
**Command to AI:**
```
Your only task: In WorldBible.tsx, replace the Character system with the Entity template, passing entityType="character". The functionality must remain 100% identical to the original Character system.

When complete, state "TASK 3A COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Characters section works exactly like before
- All features preserved: portraits, AI, creation, editing, everything
- No functionality lost in the transition

## PHASE 5: INTELLIGENT DATA INTEGRATION

### Task 5A: Configure Field Mapping System
**Command to AI:**
```
Your only task: Update fieldConfig.ts to include complete field definitions for Locations based on Section VII of the World Bible PDF. Map each location concept (Climate, Bloom Impact, Dominant Peoples, etc.) to appropriate field types and UI components.

When complete, state "TASK 5A COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Review field mappings match PDF structure
- Confirm UI components are appropriate for each field type

### Task 5B: Implement PDF Content Reframing
**Command to AI:**
```
Your only task: Create a service that reads the World Bible PDF and intelligently extracts Location data for "The Somnus Verdant", reframing it into the fieldConfig structure. Output should be a properly formatted Location object.

When complete, state "TASK 5B COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Check that PDF content is accurately extracted
- Verify data maps correctly to template fields
- Confirm no information is lost in translation

### Task 5C: Enable Dynamic Template Population  
**Command to AI:**
```
Your only task: Integrate the PDF reframing service with EntityDetailView so that when creating a new Location, the template can auto-populate fields using extracted PDF data. Test with "The Somnus Verdant" as proof of concept.

When complete, state "TASK 5C COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Create new Location using PDF data
- Confirm template displays location-appropriate fields
- Test that character-specific features are hidden
- Verify auto-population works correctly

### Task 4A: Replace Character Manager with Generic Component
**Command to AI:**
```
Your only task: In WorldBible.tsx, replace the CharacterManager component with EntityListView, passing entityType="character". Do not modify any other navigation or functionality.

When complete, state "TASK 4A COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Characters section works identically to before
- All character functionality preserved
- No other sections affected

### Task 4B: Clean Up Unused Files
**Command to AI:**
```
Your only task: List all the original character-specific components that are now replaced by generic versions. Do not delete anything yet - just provide the list for review.

When complete, state "TASK 4B COMPLETE - AWAITING VERIFICATION"
```

**Your Verification:**
- Review list of files to be cleaned up
- Confirm they are truly no longer needed

## SUCCESS CRITERIA

### The universal template system is complete when:
- [ ] Entity template is exact replica of Character system with placeholder labels
- [ ] ALL Character features preserved: portraits, AI systems, creation workflows, everything
- [ ] Template can be swapped in place - Characters work identically through Entity system
- [ ] EntityType parameter system ready for customization
- [ ] Field configuration system prepared for different entity types
- [ ] Zero loss of existing character functionality
- [ ] Ready to adapt for Locations, Factions, Magic, etc. via field/prompt changes only
- [ ] Every World Bible section will have full Character-level sophistication

## EMERGENCY PROCEDURES

### If AI Goes Off-Track:
1. Immediately stop with: "STOP. Return to the current task only."
2. Reference this document: "Follow the exact task in the protocol document."
3. If necessary: "Revert to the last successful checkpoint and await instructions."

### If Functionality is Lost:
1. Do not proceed to next task
2. Command: "Fix the issue with [specific problem] before proceeding"
3. Re-verify everything works before continuing

## COMMUNICATION TEMPLATES

### To Start a Task:
"Beginning [Task Number]: [Task Description]. Your only job is [specific instruction]. When complete, state 'TASK [NUMBER] COMPLETE - AWAITING VERIFICATION'"

### To Approve and Continue:
"CJ's Verification: Task [Number] is working perfectly. Proceed to Task [Next Number]."

### To Request Fix:
"Task [Number] has issues: [specific problems]. Fix these issues only, then state completion."